<div class="outer">
  <mat-card [ngClass]="{ 'is-side-panel-expanded': isSidePanelExpanded }">
    <h2>Feedbacks</h2>
    <div class="filter-container row justify-content-center">
      <div class="filter col-6 col-sm-4 col-md-3">
        <mat-form-field>
          <mat-label class="first">Retailer</mat-label>
          <mat-select
            [(ngModel)]="searchRetail"
            (selectionChange)="onRetailerFilterChange(searchRetail)"
          >
            <mat-option
              *ngFor="let vendor of allVendors"
              [value]="vendor.vendor_name"
            >
              {{ vendor.vendor_name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="filter col-6 col-sm-4 col-md-3">
        <mat-form-field>
          <mat-label class="first">Rating</mat-label>
          <mat-select
            [(ngModel)]="searchRating"
            (selectionChange)="onRatingFilterChange(searchRating.toString())"
          >
            <mat-option
              *ngFor="let rating of [1, 2, 3, 4, 5]"
              [value]="rating.toString()"
            >
              <div class="rating" style="display: flex;">
                {{ rating
                }}<i
                  class="fa fa-star"
                  aria-hidden="true"
                  style="font-size: 10px; align-self: center;"
                ></i>
              </div>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="filter col-6 col-sm-4 col-md-3">
        <mat-form-field>
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [(ngModel)]="searchDate"
            [matDatepicker]="picker"
            (dateChange)="onDateFilterChange(searchDate)"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <!-- Reset BUTTON -->
      <div class="col-6 col-sm-4 col-md-3 text-center">
        <button
          mat-raised-button
          color="primary"
          aria-label="Example icon-button with delete icon"
          (click)="resetFilter()"
        >
          Reset
        </button>
      </div>
    </div>
    <mat-divider></mat-divider>
    <div class="feedbacks-container row mt-4 justify-content-center">
      <div
        class="feedbacks my-2 col-12 col-md-8 col-lg-6"
        *ngFor="let feedback of filteredData"
      >
        <app-feedback-card
          [feedback]="feedback"
          style="height: -webkit-fill-available;"
        ></app-feedback-card>
      </div>
    </div>
  </mat-card>
</div>
